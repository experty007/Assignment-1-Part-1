<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="stylesheet.css">
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h1> Static using HTML canvas </h1>
<!-- Static -->
<canvas id="canvas1" width="1750px" height="800px"></canvas>

<script>

    var canvas = document.getElementById("canvas1");
    if (canvas.getContext("2d")) { // Check HTML5 canvas support
        context = canvas.getContext("2d"); // get Canvas Context object

        //rectangle function
        function rectangle(x, y, width, height) {
            context.fillStyle = "";
            context.fillRect(x, y, width, height);
        }


        //rectangle outline
        function outLine(x, y, width, height) {
            context.strokeStyle = "";
            context.lineWidth = "2";
            context.strokeRect(x, y, width, height);
        }

        //Beat Fx 1/2 Function
        function beatFx(x, y, width, height, x1, y1, width1, height1) {
            //Beat Outline
            context.fillStyle = "#00BEFF";
            context.fillRect(x, y, width, height);

            //Beat Fx Inside Square
            context.fillStyle = "#000000";
            rectangle(x1, y1, width1, height1);
        }


        function line(x, y, x1, y1) {
            context.beginPath();
            context.moveTo(x, y); //Sets the paths origin
            context.lineTo(x1, y1);
            context.strokeStyle = "white";
            context.lineWidth = "2";
            context.stroke();
        }

        function slider(x, y, width, height) {
            context.strokeStyle = "#ffffff";
            context.fillStyle = "#373D40";
            context.lineWidth = "2";
            context.fillRect(x, y, width, height);
            context.strokeRect(x, y, width, height);
        }

        function mixerNobes(x, y, radius, startangle, endangle, x3, y3, x1, y1) {
            circle(x, y, radius, startangle, endangle);

            line(x3, y3, x1, y1);


        }

        function tempoSlider(x, y, width, height) {
            context.strokeStyle = "#ffffff";
            context.fillStyle = "#373D40";
            context.lineWidth = "2";
            context.fillRect(x, y, width, height);
            context.strokeRect(x, y, width, height);
        }

        //circle function
        function circle(x, y, radius, startangle, endangle) {
            context.beginPath();
            context.lineWidth = "1";
            context.arc(x, y, radius, startangle, endangle);
            context.fill();
            context.stroke();
        }

        //Loop Buttons
        function loopButtons(x, y, width, height, x3, y3, width3, height3) {
            //Beat Outline
            context.fillStyle = "#F09D00";
            context.fillRect(x, y, width, height);

            //Beat Fx Inside Square
            context.fillStyle = "#000000";
            rectangle(x3, y3, width3, height3);

        }

        //hotCue function
        function hotCue(x, y, width, height, x2, y2, width2, height2) {
            //HotCue Outline
            context.fillStyle = "#FF0000";
            context.fillRect(x, y, width, height);

            //HotCue Inside Square
            context.fillStyle = "#000000";
            context.strokeStyle = "#ffffff";
            context.lineWidth = "2";
            context.strokeRect(x2, y2, width2, height2);
            //Inside black Square
            rectangle(x2, y2, width2, height2);
        }


//main controller
        rectangle(50, 100, 1700, 650, "");


//Left Side


//Left Beat Fx1
        //Fx
        beatFx(200, 135, 70, 30, 205, 140, 60, 20);
        //x, y, width, height, x1, y1, width1, height1

        //Beat Left
        beatFx(315, 135, 55, 30, 320, 140, 45, 20);

        //Beat Right
        beatFx(380, 135, 55, 30, 385, 140, 45, 20);

//Left Fx Mixer Nobe

        context.strokeStyle = "#ffffff";
        context.fillStyle = "#373D40";
        //Fx Mixer Nobe
        mixerNobes(470, 150, 20, 0, Math.PI * 2, 470, 150, 470, 130);
        //circle (x, y, radius, startangle, endangle)
        //line (x3, y3, x1, y1)



//Left Tempo Slider

        tempoSlider(525, 125, 90, 130);
        //x, y, width, height,

        line(525, 140, 615, 140);
        //x, y, x1, y1
        //Move To x, y
        //Line To x1, y1

        line(525, 160, 615, 160);

        line(525, 180, 615, 180);

        line(525, 220, 615, 220);

        line(525, 240, 615, 240);


        context.fillStyle = "#000000";
        rectangle(525, 175, 90, 30);


//Left Jog wheel

        //Outer Jog wheel
        context.strokeStyle = "#ffffff";
        context.fillStyle = "#525b5f";
        circle(330, 350, 170, 0, Math.PI * 2, true);
        //x, y, radius, startangle, endangle

        //Inner Jog wheel
        context.strokeStyle = "#ffffff";
        context.fillStyle = "#000000";
        circle(330, 350, 70, 0, Math.PI * 2, true);

        //Centre of Jog wheel
        context.strokeStyle = "red";
        context.fillStyle = "#ffffff";
        circle(330, 350, 30, 0, Math.PI * 2, true);

//Left Shift Button

        //Shift Button
        context.strokeStyle = "#ffffff";
        outLine(105, 420, 30, 30);
        context.fillStyle = "#525b5f";
        rectangle(105, 420, 30, 30);

//Left Sync Button

        //Sync Button
        context.strokeStyle = "#ffffff";
        context.fillStyle = "#FF0000";
        circle(120, 510, 20, 0, Math.PI * 2, true);

        context.strokeStyle = "#ffffff";
        context.fillStyle = "#000000";
        circle(120, 510, 15, 0, Math.PI * 2, true);

//Left Loop buttons

        //Loop In
        loopButtons(505, 590, 55, 30, 510, 595, 45, 20);
        //x, y, width, height, x3, y3, width3, height3
        //Loop Out
        loopButtons(570, 590, 55, 30, 575, 595, 45, 20);
        //x, y, width, height, x3, y3, width3, height3


//Left Hot queues

        //HotCue
        hotCue(180, 540, 70, 20, 187, 544, 55, 10);
        //x, y, width, height, x2, y2, width2, height2

        //Pad FX
        hotCue(260, 540, 70, 20, 267, 544, 55, 10);
        //x, y, width, height, x2, y2, width2, height2

        //Slicer
        hotCue(340, 540, 70, 20, 347, 544, 55, 10);
        //x, y, width, height, x2, y2, width2, height2

        //Sampler
        hotCue(420, 540, 70, 20, 427, 544, 55, 10);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue A
        hotCue(180, 570, 70, 70, 185, 575, 60, 60);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue B
        hotCue(260, 570, 70, 70, 265, 575, 60, 60);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue C
        hotCue(340, 570, 70, 70, 345, 575, 60, 60);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue D
        hotCue(420, 570, 70, 70, 425, 575, 60, 60);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue E
        hotCue(180, 650, 70, 70, 185, 655, 60, 60);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue F
        hotCue(260, 650, 70, 70, 265, 655, 60, 60);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue G
        hotCue(340, 650, 70, 70, 345, 655, 60, 60);
        //x, y, width, height, x2, y2, width2, height2

        //HotCue H
        hotCue(420, 650, 70, 70, 425, 655, 60, 60);
        //x, y, width, height, x2, y2, width2, height2


//Cue and Play Buttons

        //Left Cue Button
        context.strokeStyle = "#ffffff";
        context.fillStyle = "#F09D00";
        circle(120, 600, 40, 0, Math.PI * 2, true);


        //Left Play Button
        context.strokeStyle = "#ffffff";
        context.fillStyle = "#73ff1c";
        circle(120, 690, 40, 0, Math.PI * 2, true);


    }


</script>

<script>
    //Mixer Section

    //left side of the Mixer
    //Left Load button
    context.fillStyle = "#525b5f";
    rectangle(690, 120, 90, 30);

    //Left Trim Nobe
    mixerNobes(730, 190, 20, 0, Math.PI * 2, 730, 190, 730, 170);
    //Left Hi
    mixerNobes(730, 270, 20, 0, Math.PI * 2, 730, 270, 730, 250);
    //Left Mid
    mixerNobes(730, 350, 20, 0, Math.PI * 2, 730, 350, 730, 330);
    //Left Low
    mixerNobes(730, 430, 20, 0, Math.PI * 2, 730, 430, 730, 410);
    //Left Filter
    mixerNobes(730, 510, 20, 0, Math.PI * 2, 730, 510, 730, 490);

    //Left Channel level slider

    slider(690, 550, 90, 130);
    //x, y, width, height,

    line(690, 570, 780, 570);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1
    line(690, 590, 780, 590);

    line(690, 610, 780, 610);

    line(690, 630, 780, 630);

    line(690, 650, 780, 650);

    line(690, 670, 780, 670);

    context.fillStyle = "#000000";
    rectangle(690, 605, 90, 30);

    //Channel volume level left
    context.fillStyle = "#ff000a";
    rectangle(800, 550, 20, 30);

    context.fillStyle = "#ff9508";
    rectangle(800, 600, 20, 30);

    context.fillStyle = "#00ff23";
    rectangle(800, 650, 20, 30);

    //center of mixer

    //Master Level
    context.fillStyle = "#525b5f";
    mixerNobes(880, 230, 20, 0, Math.PI * 2, 880, 230, 880, 210);
    //circle (x, y, radius, startangle, endangle)
    //line (x3, y3, x1, y1)

    //Headphones Level
    mixerNobes(880, 390, 20, 0, Math.PI * 2, 880, 390, 880, 370);
    //circle (x, y, radius, startangle, endangle)
    //line (x3, y3, x1, y1)

    //Master Headphones
    loopButtons(840, 440, 75, 30, 845, 445, 65, 20);
    //x, y, width, height, x3, y3, width3, height3

    //Headphones Cue 1
    loopButtons(840, 490, 35, 35, 845, 495, 25, 25);
    //x, y, width, height, x3, y3, width3, height3

    //Headphones Cue 2
    loopButtons(880, 490, 35, 35, 885, 495, 25, 25);
    //x, y, width, height, x3, y3, width3, height3

    context.fillStyle = "#525b5f";
    rectangle(840, 550, 90, 130);
    //x, y, width, height

    //Right side of the Mixer

    //Right Load button
    context.fillStyle = "#525b5f";
    rectangle(990, 120, 90, 30);

    //Right Trim Nobe
    mixerNobes(1030, 190, 20, 0, Math.PI * 2, 1030, 190, 1030, 170);
    //Right Hi
    mixerNobes(1030, 270, 20, 0, Math.PI * 2, 1030, 270, 1030, 250);
    // Right Mid
    mixerNobes(1030, 350, 20, 0, Math.PI * 2, 1030, 350, 1030, 330);
    //Right Low
    mixerNobes(1030, 430, 20, 0, Math.PI * 2, 1030, 430, 1030, 410);
    //Right Filter
    mixerNobes(1030, 510, 20, 0, Math.PI * 2, 1030, 510, 1030, 490);

    //Right Channel level slider

    slider(990, 550, 90, 130);
    //x, y, width, height,

    line(990, 570, 1080, 570);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1
    line(990, 590, 1080, 590);

    line(990, 610, 1080, 610);

    line(990, 630, 1080, 630);

    line(990, 650, 1080, 650);

    line(990, 670, 1080, 670);

    context.fillStyle = "#000000";
    rectangle(990, 605, 90, 30);

    //Channel volume level right
    context.fillStyle = "#ff000a";
    rectangle(950, 550, 20, 30);

    context.fillStyle = "#ff9508";
    rectangle(950, 600, 20, 30);

    context.fillStyle = "#00ff23";
    rectangle(950, 650, 20, 30);

    //Cross Fade Slider
    slider(815, 690, 135, 50);
    //x, y, width, height,

    line(830, 690, 830, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(845, 690, 845, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(860, 690, 860, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(875, 690, 875, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(890, 690, 890, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(905, 690, 905, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(920, 690, 920, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(935, 690, 935, 740);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    context.fillStyle = "#000000";
    rectangle(865, 690, 35, 50);

</script>

<script>
    // Right Side


    //Right Beat Fx2

    //Fx
    beatFx(1250, 135, 70, 30, 1255, 140, 60, 20);
    //x, y, width, height, x1, y1, width1, height1

    //Beat Left
    beatFx(1365, 135, 55, 30, 1370, 140, 45, 20);

    //Beat Right
    beatFx(1430, 135, 55, 30, 1435, 140, 45, 20);


    //Right Fx Mixer Nobe

    context.strokeStyle = "#ffffff";
    context.fillStyle = "#373D40";
    //Fx Mixer Nobe
    mixerNobes(1520, 150, 20, 0, Math.PI * 2, 1520, 150, 1520, 130);
    //circle (x, y, radius, startangle, endangle)
    //line (x3, y3, x1, y1)

    //Right Tempo Slider

    tempoSlider(1575, 125, 90, 130);
    //x, y, width, height,

    line(1575, 140, 1665, 140);
    //x, y, x1, y1
    //Move To x, y
    //Line To x1, y1

    line(1575, 160, 1665, 160);

    line(1575, 180, 1665, 180);

    line(1575, 220, 1665, 220);

    line(1575, 240, 1665, 240);


    context.fillStyle = "#000000";
    rectangle(1575, 175, 90, 30);


    //Right Jog wheel

    //Outer Jog wheel
    context.strokeStyle = "#ffffff";
    context.fillStyle = "#525b5f";
    circle(1380, 350, 170, 0, Math.PI * 2, true);
    //x, y, radius, startangle, endangle

    //Inner Jog wheel
    context.strokeStyle = "#ffffff";
    context.fillStyle = "#000000";
    circle(1380, 350, 70, 0, Math.PI * 2, true);

    //Centre of Jog wheel
    context.strokeStyle = "red";
    context.fillStyle = "#ffffff";
    circle(1380, 350, 30, 0, Math.PI * 2, true);

    //Right Shift Button

    //Shift Button
    context.strokeStyle = "#ffffff";
    outLine(1155, 420, 30, 30);
    context.fillStyle = "#525b5f";
    rectangle(1155, 420, 30, 30);

    //Right Sync Button

    //Sync Button
    context.strokeStyle = "#ffffff";
    context.fillStyle = "#FF0000";
    circle(1170, 510, 20, 0, Math.PI * 2, true);

    context.strokeStyle = "#ffffff";
    context.fillStyle = "#000000";
    circle(1170, 510, 15, 0, Math.PI * 2, true);

    // Right Loop buttons

    //Loop In
    loopButtons(1565, 590, 55, 30, 1570, 595, 45, 20);

    //Loop Out
    loopButtons(1630, 590, 55, 30, 1635, 595, 45, 20);
    //x, y, width, height, x3, y3, width3, height3


    //Right Hot queues

    //HotCue
    hotCue(1240, 540, 70, 20, 1247, 544, 55, 10);
    //x, y, width, height, x2, y2, width2, height2

    //Pad FX
    hotCue(1320, 540, 70, 20, 1327, 544, 55, 10);

    //Slicer
    hotCue(1400, 540, 70, 20, 1407, 544, 55, 10);

    //Sampler
    hotCue(1480, 540, 70, 20, 1487, 544, 55, 10);

    //HotCue A
    hotCue(1240, 570, 70, 70, 1245, 575, 60, 60);
    //x, y, width, height, x2, y2, width2, height2

    //HotCue B
    hotCue(1320, 570, 70, 70, 1325, 575, 60, 60);

    //HotCue C
    hotCue(1400, 570, 70, 70, 1405, 575, 60, 60);

    //HotCue D
    hotCue(1480, 570, 70, 70, 1485, 575, 60, 60);

    //HotCue E
    hotCue(1240, 650, 70, 70, 1245, 655, 60, 60);

    //HotCue F
    hotCue(1320, 650, 70, 70, 1325, 655, 60, 60);

    //HotCue G
    hotCue(1400, 650, 70, 70, 1405, 655, 60, 60);

    //HotCue H
    hotCue(1480, 650, 70, 70, 1485, 655, 60, 60);
    //x, y, width, height, x2, y2, width2, height2


    //Right Cue and Play Buttons

    //Right Cue Button
    context.strokeStyle = "#ffffff";
    context.fillStyle = "#F09D00";
    circle(1175, 600, 40, 0, Math.PI * 2, true);


    //Right Play Button
    context.strokeStyle = "#ffffff";
    context.fillStyle = "#73ff1c";
    circle(1175, 690, 40, 0, Math.PI * 2, true);

</script>


<!--Animation works in Google chrome & FireFox  -->
<h1> Animation - using HTML canvas works in chrome & FireFox</h1>

<div id="mp3Player">
    <div id="audioBox"></div>
    <canvas id="analyserRender" style="width: 100%; height: 100%;"></canvas> <!--creates the canvas for the analyser-->
</div>
<script>
    //Used the Web Audio API to create the music visualiser
    //checks to see if then web Audio api is supported in the browser
    var popUp;
    window.addEventListener('load', init, false);
    function init() {
        try {
            // Fix up for prefixing
            window.AudioContext = window.AudioContext||window.AudioContext;
            popUp = new AudioContext();
        }
        catch(e) {
            alert('Web Audio API is not supported in this browser please use Google Chrome or FireFox');
        }
    }

    function initMp3Player() {
        document.getElementById('audioBox').appendChild(audio); //adds audio element to the audioBox div
        context = new AudioContext(); // creates a new AudioContext object
        analyser = context.createAnalyser(); //Analyser method runs on the context instance
        canvas = document.getElementById('analyserRender');
        ctx = canvas.getContext('2d');//get Canvas Context object

        //The audio gets routed to the waveform
        source = context.createMediaElementSource(audio); //passes argument audio object though the createMediaElementSource method
        source.connect(analyser); //passed the analyser method
        analyser.connect(context.destination);
        frameLooper(); //Function call that Animates the style of the graph

    }

    //Looping at the default frame rate
    function frameLooper() {
        window.requestAnimationFrame(frameLooper); //Looping function
        fbcArray = new Uint8Array(analyser.frequencyBinCount); //array that represents the sound frequency
        analyser.getByteFrequencyData(fbcArray);
        ctx.clearRect(0, 0, canvas.width, canvas.height); //clears the canvas
        var shades = ["#ff000a"]; // an array of colours
        var b = shades.length; //better practice storing the length of the array in a variable
        var c = shades[Math.floor(Math.random() * b)]; //randomises the colors
        ctx.fillStyle = c; //Bar Color
        bars = 100; //The amount of bars rendered

        //This loop renders the bars at various levels
        for (var i = 0; i < bars; i++) {
            barX = i * 7; //The space between the bars
            barWidth = 5; //The width of the bar in px
            barHeight = -(fbcArray[i] / 2); //Allows the bars to move up and down
            ctx.fillRect(barX, canvas.height, barWidth, barHeight); //fills the bars in
        }
    }

    //audio object

    var audio = new Audio(); //Creates a new audio object
    audio.src = 'audio/Flight 643.mp3'; //source file of the audio
    audio.controls = true; //shows the default audio controls
    audio.loop = true; //loops the audio
    audio.autoplay = true; //Plays the track when the browser opens


    //Defines all the variables that the analyser will use
    var canvas, ctx, source, context, analyser, fbcArray, bars, barX, barWidth, barHeight;

    //Initialize the mp3 player after the page loads the html
    window.addEventListener("load", initMp3Player, false);

</script>
</body>